import{c as _}from"./cartStore-me3BoJxt.js";import{_ as m,f as h,o as r,c,a as t,t as e,F as g,g as f,j as p,k as I,v,h as y,n as b}from"./index-f2bgMWh1.js";var k={VITE_API:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"annchou",BASE_URL:"/vue_week6/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_API:T,VITE_PATH:E}=k,S={data(){return{product:{},qty:1}},methods:{...h(_,["addToCart"]),changeImage(n){this.product.currentImage=this.product.imagesStock[n]}},created(){const n=this.$route.params.id,s=`${T}/api/${E}/product/${n}`;this.axios.get(s).then(u=>{const i=u.data.product;this.product={productInfo:i,currentImage:i.imageUrl,imagesStock:[i.imageUrl,...i.imagesUrl]}}).catch(u=>console.log(u.response.data.message))}},V={key:0,class:"container"},C={class:"py-5 h2 text-center"},A={class:"modal-body"},D={class:"row"},P={class:"col-sm-6"},U=["src","alt"],x=["onClick"],q=["src"],w={class:"col-sm-6"},B={class:"mb-4 badge bg-primary rounded-pill"},M={class:"mb-2"},R={class:"mb-4"},F={class:"mb-4"},H={key:0,class:"h5"},L={key:1,class:"h6"},N={key:2,class:"h5"},O={class:"input-group"};function j(n,s,u,i,o,a){return o.product.productInfo?(r(),c("div",V,[t("h2",C,e(o.product.productInfo.title),1),t("div",A,[t("div",D,[t("div",P,[t("img",{class:"img-fluid",src:o.product.currentImage,alt:o.product},null,8,U),t("div",null,[(r(!0),c(g,null,f(o.product.imagesStock,(d,l)=>(r(),c("a",{href:"#",key:"img"+l,onClick:y(z=>a.changeImage(l),["prevent"])},[t("img",{src:d,alt:"productImg",class:b(["img-store m-1",d===o.product.currentImage?"border border-3 border-primary":""])},null,10,q)],8,x))),128))])]),t("div",w,[t("span",B,e(o.product.productInfo.category),1),t("p",M,"商品描述："+e(o.product.productInfo.description),1),t("p",R,"商品內容："+e(o.product.productInfo.content),1),t("div",F,[o.product.productInfo.price?p("",!0):(r(),c("div",H,e(o.product.productInfo.origin_price)+" 元",1)),o.product.productInfo.price?(r(),c("del",L,"原價 "+e(o.product.productInfo.origin_price)+" 元",1)):p("",!0),o.product.productInfo.price?(r(),c("div",N,"現在只要 "+e(o.product.productInfo.price)+" 元",1)):p("",!0)]),t("div",null,[t("div",O,[I(t("input",{type:"number",class:"form-control","onUpdate:modelValue":s[0]||(s[0]=d=>o.qty=d),min:"1"},null,512),[[v,o.qty,void 0,{number:!0}]]),t("button",{type:"button",class:"btn btn-primary",onClick:s[1]||(s[1]=d=>n.addToCart(o.product.productInfo.id,o.qty))},"加入購物車")])])])])])])):p("",!0)}const K=m(S,[["render",j]]);export{K as default};
